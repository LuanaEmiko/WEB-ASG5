<%- include('partials/navbar', {page: '' }) %>

<div class="hero bg-base-200">
  <div class="hero-content text-center">
    <div class="max-w-lg">
      <h1 class="text-5xl font-bold">Edit Site: <%= site.site %></h1>
      <p class="py-6">Update the details of the site below</p>
      <form action="/editSite" method="POST">

        <div class="form-control">
          <label for="siteId" class="label">
            <span class="label-text">Site ID</span>
          </label>
          <input type="text" id="siteId" name="siteId" value="<%= site.siteId %>" class="input input-bordered w-full bg-gray-100 cursor-not-allowed" readonly>
        </div>

        <div class="form-control">
          <label for="site" class="label">
            <span class="label-text">Site Name</span>
          </label>
          <input type="text" id="site" name="site" value="<%= site.site %>" class="input input-bordered w-full" required>
        </div>

        <div class="form-control">
          <label for="description" class="label">
            <span class="label-text">Description</span>
          </label>
          <textarea id="description" name="description" class="textarea textarea-bordered w-full" required><%= site.description %></textarea>
        </div>

        <div class="form-control">
          <label for="provinceOrTerritoryCode" class="label">
            <span class="label-text">Province/Territory</span>
          </label>
          <select id="provinceOrTerritoryCode" name="provinceOrTerritoryCode" class="select select-bordered w-full" required>
            <% provincesAndTerritories.forEach(provOrTerr => { %>
              <option <%= (site.provinceOrTerritoryCode == provOrTerr.code) ? "selected" : "" %> value="<%= provOrTerr.code %>">
                <%= provOrTerr.name %>
              </option>
            <% }) %>
          </select>
        </div>

        <div class="form-control mt-6">
          <button type="submit" class="btn btn-primary w-full">Update Site</button>
        </div>
      </form>
    </div>
  </div>
</div>

<a href="/deleteSite/<%= site.siteId %>" class="btn btn-error">Delete Site</a>

